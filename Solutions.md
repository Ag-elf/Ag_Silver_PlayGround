# Q1
Cos Similarity, 请查看代码

# Q2
请查看代码

# Q3
请查看代码

# Q4
请查看代码

# Q5
## STEP 1. 需求分析
首先需要考虑我们的需求，即我们需要的到底是什么，有哪些需要解决的问题

INPUT:  Formula or Reaction Formula  
OUTPUT: Most similar Reaction Formula and conditions

既然是 Most Similar，那么如何定义 Similar 是这里的关键。

同时，为了能让机器了解反应式、结构式的意义，我们需要一些有关该分子的特性信息来完善数据。

## STEP 2. 定义问题
### 1. 定义化学式
我们可以将某一种化学方程结构，定义为一个多维向量。

该向量应当表示出这个化学结构的各种特性（例如手性，是否稳定，能否溶解，这些可以描述该分子的特性）

假如每一个分子可以表示成这么一个 vector 的话，那么化学反应式就可以表示为:
```
input:      [vector1, vector2, ...]
output:     [vector1, vector2, ...]
condition:  [condition1, condition2, ...]
```
这样的结构。

### 2. 定义相似性
已经定义了化学结构的表示方式，那么相似性应当可以根据化学结构的特性向量来计算。

这种计算应当基于某种化学规则或者化学语意

Levenshtein Distance 应当也是一个可参考指标

### 3. 定义问题
问题抽象化，转变为：

预处理：数据库应当可以接受一个向量输入，然后通过这个向量找到对应的化学式

输入：某一个化学式  
输出：某一个与该向量高度相关的另一个或一组向量  

之后，我们通过这个输出的向量去数据库中进行相关性检索

## Possible Solution
考虑到化学结构式拥有某种程度上的语意，能否将这种语意转变为 NLP 概念上的 Word Embedding 来定义某一个化学式呢？
```
A + B (C) = D
A 和 B 在 C 的 条件下生成 D
```
这种逻辑语意是拥有上下文相关性的，某种化学产物既不可能凭空出现，也不可能随便消失。反应条件也应当与输入相关。

### Step1. Word Embeddings
这一步需要庞大的语义数据库去进行训练，不论是用 Word2Vec 还是 CBOW (Continuous Bag of Words)，最终我们可以将一个化学式 A 表示成一个各元素独立且连续的向量。

在这一步，我们将某个化学式的语意，内容，特性，教给了机器。

我们在计算相关性的时候，可以考虑两组向量表示的点在某个超平面上的距离，距离越近相关性越强，距离越远相关性越低。

### Step2. 推荐和相关性检索
这一步我们需要将化学反应方程式作为训练集代入其中。

对于相似性检索任务，可以理解为一个推荐系统，推荐引擎。

### Step3. 预测任务
对于预测任务，可以类比 NLP 的自动补全或者联想，可以考虑使用 LSTM 或是 Attention-Based Model （Transformer） 来进行预测。
